{
  "name": "virtual-card-webmcp",
  "version": "0.3.0",
  "protocol": "webmcp-jsonrpc",
  "transport": [
    {
      "type": "chromium-modelContext",
      "description": "Chromium-native navigator.modelContext API (registerTool / unregisterTool)",
      "api": "navigator.modelContext.registerTool(toolDef)",
      "polyfill": "./src/webmcp-chromium.js",
      "notes": "Preferred transport when running inside a Chromium-based browser with WebMCP support."
    },
    {
      "type": "postMessage",
      "requestType": "WEB_MCP_REQUEST",
      "responseType": "WEB_MCP_RESPONSE",
      "jsonrpc": "2.0",
      "notes": "Cross-window postMessage transport for same-origin communication."
    },
    {
      "type": "http",
      "httpEndpoint": "./api/webmcp",
      "httpMethod": "POST",
      "jsonrpc": "2.0",
      "notes": "HTTP bridge via Service Worker for external / cross-process callers."
    }
  ],
  "runtime": "browser",
  "entry": "window.VirtualCardWebMCP || window.WebMCP",
  "security": {
    "authType": "none",
    "notes": "No auth validation required"
  },
  "methods": {
    "tools/list": {
      "description": "List available WebMCP tools"
    },
    "tools/call": {
      "description": "Call tool with { name, arguments }"
    }
  },
  "tools": [
    { "name": "card.getState" },
    { "name": "card.setType", "input": { "cardType": "main|qr|custom" } },
    { "name": "card.setLanguage", "input": { "lang": "locale code" } },
    { "name": "card.setTheme", "input": { "theme": "light|dark" } },
    { "name": "card.updateField", "input": { "field": "string", "value": "any" } },
    { "name": "card.updateFields", "input": { "updates": "object" } },
    { "name": "card.updateLayout", "input": { "updates": "object" } },
    { "name": "card.setQrContent", "input": { "value": "string" } },
    { "name": "card.applyTemplate", "input": { "templateName": "string" } },
    { "name": "card.setBackgroundImage", "input": { "imageUrl": "string" } },
    { "name": "card.export", "input": { "format": "png|jpg|webp|html|vcf" } },
    { "name": "card.simulateAction", "input": { "action": "click|input", "target": "string", "value": "any" } },
    { "name": "card.setState", "input": { "statePatch": "object" } }
  ],
  "integration": {
    "compatiblePlatforms": ["ChatGPT", "Google Assistant", "Custom Agents"],
    "notes": "Use JSON-RPC over postMessage or HTTP endpoint."
  },
  "docs": {
    "openapiSpecUrl": "./webmcp.openapi.yaml",
    "guideUrl": "./docs/WEBMCP_GUIDE.md"
  }
}
